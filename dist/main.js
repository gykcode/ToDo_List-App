(()=>{var e={379:()=>{}},t={};function n(o){var c=t[o];if(void 0!==c)return c.exports;var d=t[o]={exports:{}};return e[o](d,d.exports,n),d.exports}(()=>{"use strict";const e=e=>{const t=e.target.matches("[data-dropdown-button]");if(!t&&null!=e.target.closest("[data-dropdown]"))return;let n;t&&(function(e){const t=e.target.closest(".editContainer");if(null!=e.target.closest(".tile")){const e=document.getElementById("projectOption");e.classList.remove("hidden"),t.appendChild(e)}else if(null!=e.target.closest("li")){const e=document.getElementById("listOption");e.classList.remove("hidden"),t.appendChild(e)}}(e),n=e.target.closest("[data-dropdown]"),setTimeout((function(){n.classList.toggle("active")}),0)),document.querySelectorAll("[data-dropdown].active").forEach((e=>{e!==n&&e.classList.remove("active")}))},t=e=>{let t=e.target.parentNode.parentNode,n=t.parentNode;o(t),!0===c()&&(d(),s()),function(e){const t=e.parentNode,n=document.getElementById("renameForm");let o=e.querySelector(".projectName").textContent;n.querySelector("input").value=o,t.insertBefore(n,e)}(n),l(),document.getElementById("projectRenameInput").focus(),n.classList.add("hidden")},o=e=>{e.classList.remove("active")},c=()=>!document.querySelector("#renameForm").classList.contains("hidden");function d(){const e=document.getElementById("renameForm"),t=document.querySelector(".project");e.classList.add("hidden"),t.appendChild(e)}const l=()=>{const e=document.querySelector("#renameForm");setTimeout((function(){e.classList.remove("hidden")}),0)},s=()=>{document.querySelector("div.hidden").classList.remove("hidden")},r=e=>{let t=e.target.closest(".tile"),n=t.dataset.project;if(t.classList.contains("selected")){const e=document.querySelector("#today"),t=e.querySelector("[data-name]");e.classList.add("selected"),q(t)}i(),t.remove(),a(),C.splice(n,1),B()};function a(){let e=0;document.querySelectorAll(".project .tile").forEach((t=>{let n=t.dataset.project;t.dataset.project=e,C[n].dataProject=e,e++})),C.sort(((e,t)=>e.dataProject-t.dataProject)),B()}function i(){const e=document.querySelector("#projectOption");e.classList.add("hidden"),document.querySelector(".project").appendChild(e);const t=document.querySelector("#listOption");t.classList.add("hidden"),document.querySelector(".list-todo").appendChild(t)}var u=n(379);function m(e){return C.reduce(((t,n)=>{let o=n.taskList.find((t=>t.id==e));return null!=o&&(t=o),t}),{})}function p(e){const t=document.querySelector(".selected");if(null!=t.closest(".project"))v(e);else{if(null==t.closest(".home"))return;(0,u.checkWhichHomeTile)(t)}}function g(){const e=document.querySelector("#editListForm"),t=document.querySelector(".list-todo");e.classList.add("hidden"),t.appendChild(e)}function L(){document.querySelector("li.hidden").classList.remove("hidden")}const y=()=>{const e=document.querySelector("#listForm"),t=document.querySelector("#listInput"),n=document.querySelector("#listInputDetail"),o=document.querySelector("#listInputDate");t.value="",n.value="",o.value="",e.classList.add("hidden")};let f=Number(localStorage.getItem("currentId"))||0;function h(e){let t;return t=e||"No Due Date",t}function v(e){document.querySelector("ul").textContent="",C[e].taskList.forEach((e=>{S(e.id,e.title,e.details,e.date,e.completed,e.important)}))}function S(e,t,n,o,c,d){const l=document.querySelector("ul"),s=document.createElement("li");s.id=e,l.appendChild(s);const r=document.createElement("div");r.classList.add("unchecked"),s.appendChild(r);const a=document.createElement("div");a.classList.add("list-details"),s.appendChild(a),c&&(r.classList.toggle("checked"),a.classList.toggle("lineThrough"),a.classList.toggle("fade"));const i=document.createElement("div");i.classList.add("taskTitle"),i.textContent=t,a.appendChild(i);const u=document.createElement("div");u.classList.add("taskDetails"),u.textContent=n,a.appendChild(u);const m=document.createElement("div");m.classList.add("date"),m.textContent=o,s.appendChild(m);const p=document.createElement("div");p.classList.add("list-right"),s.appendChild(p);const g=F("star_outline");g.classList.add("star-outline"),p.appendChild(g);const L=F("star");L.classList.add("important"),p.appendChild(L),d?g.classList.add("listHidden"):L.classList.add("listHidden");const y=document.createElement("div");y.dataset.dropdown="",y.classList.add("editContainer"),p.appendChild(y);const f=F("more_vert");f.dataset.dropdownButton="",y.appendChild(f)}function q(e){document.querySelector(".title").textContent=e.textContent}function E(e){e.target.matches("[data-drag]")&&(e.target.parentNode.draggable=!0)}function j(e){e.addEventListener("dragstart",(()=>{e.classList.add("dragging")})),e.addEventListener("dragend",(()=>{e.classList.remove("dragging"),e.draggable=!1,a(),console.log(C)}))}function I(e){e.preventDefault();const t=document.querySelector(".project"),n=document.querySelector(".dragging"),o=document.querySelector("#projectForm"),c=(d=e.clientY,[...document.querySelectorAll(".project .tile:not(.dragging)")].reduce(((e,t)=>{const n=t.getBoundingClientRect(),o=d-n.top-n.height/2;return o<0&&o>e.offset?{offset:o,element:t}:e}),{offset:Number.NEGATIVE_INFINITY}).element);var d;null==c?t.insertBefore(n,o):t.insertBefore(n,c)}let C=localStorage.getItem("myProjectList");C=JSON.parse(C||JSON.stringify([]));const k=e=>{let t=document.getElementById("projectInput").value,n=b();const o=N(n,t);C.push(o),B(),T(n,t),D(),e.preventDefault()};function B(){localStorage.setItem("myProjectList",JSON.stringify(C)),localStorage.setItem("currentId",f.toString())}const N=(e,t)=>{const n=[];return{dataProject:e,name:t,taskList:n,taskNum:n.length}},x=()=>{document.querySelector("#projectForm").classList.remove("hidden"),document.getElementById("projectInput").focus()},D=()=>{const e=document.querySelector("#projectForm");document.querySelector("#projectInput").value="",e.classList.add("hidden")},T=(e,t)=>{const n=document.querySelector(".project"),o=document.querySelector("#projectForm"),c=document.createElement("div");c.setAttribute("data-project",`${e}`),c.classList.add("tile"),n.insertBefore(c,o);const d=F("menu");d.setAttribute("data-drag",""),c.appendChild(d);const l=document.createElement("div");l.classList.add("projectInfo"),c.appendChild(l);const s=document.createElement("div");s.classList.add("projectName"),s.textContent=t,l.appendChild(s);const r=document.createElement("div");r.classList.add("editContainer"),r.setAttribute("data-dropdown",""),c.appendChild(r);const a=F("more_vert");a.setAttribute("data-dropdown-button",""),r.appendChild(a),j(c)},F=e=>{const t=document.createElement("span");return t.classList.add("material-icons-round"),t.textContent=e,t},b=()=>document.querySelectorAll("[data-project]").length;function P(e){let t=e.target.closest(".home .tile"),n=e.target.closest(".project .tile");if(null!=t){const e=t.querySelector("[data-name]");A(t),i(),(0,u.checkWhichHomeTile)(t),q(e),document.getElementById("addList").classList.add("hidden")}else{if(null==n)return;{const e=n.querySelector(".projectName");let t=n.dataset.project;g(),i(),v(t),A(n),q(e),document.getElementById("addList").classList.remove("hidden")}}}const A=e=>{document.querySelector(".selected").classList.remove("selected"),e.classList.add("selected")};document.querySelector("#addList").addEventListener("click",(()=>{document.querySelector("#listForm").classList.remove("hidden"),document.getElementById("listInput").focus()})),document.querySelector(".listCancelBtn").addEventListener("click",y),document.getElementById("listForm").addEventListener("submit",(function(e){let t=document.getElementById("listInput").value,n=document.getElementById("listInputDetail").value,o=document.getElementById("listInputDate").value,c=document.querySelector(".selected").dataset.project,d=h(o),l=f;const s=((e,t,n,o,c,d,l)=>({dataProject:e,id:t,title:n,details:o,completed:!1,important:!1,date:l}))(c,l,t,n,0,0,d);C[c].taskList.push(s),f++,B(),S(l,t,n,d),y(),e.preventDefault()})),document.querySelector(".list-todo").addEventListener("click",(function(e){let t=e.target.matches(".star-outline"),n=e.target.matches(".unchecked"),c=e.target.matches(".editTaskSubmitBtn"),d=e.target.matches(".editTaskCancelBtn"),l=e.target.matches("#listDelete"),s=e.target.matches("#listEdit");if(t)!function(e){e.target.classList.toggle("listHidden"),e.target.nextElementSibling.classList.toggle("listHidden")}(e),function(e){let t=m(e.target.closest("li").id);t.important=!t.important,B(),i(),p(t.dataProject)}(e);else if(n)!function(e){let t=e.target,n=e.target.closest("li").querySelector(".list-details");n.classList.toggle("lineThrough"),n.classList.toggle("fade"),t.classList.toggle("checked")}(e),function(e){let t=m(e.target.closest("li").id);t.completed=!t.completed,B()}(e);else if(l)!function(e){let t=e.target.closest("li"),n=m(t.id),o=n.dataProject;C[o].taskList=C[o].taskList.filter((e=>e!=n)),B(),i(),t.remove()}(e);else if(s)!function(e){let t=e.target.parentNode.parentNode;o(t),function(e){let t=e.target.closest("li"),n=t.parentNode;const o=document.getElementById("editListForm"),c=t.querySelector(".taskTitle").textContent,d=t.querySelector(".taskDetails").textContent,l=t.querySelector(".date").textContent,s=o.querySelector("#editListTitle"),r=o.querySelector("#editListInputDetail"),a=o.querySelector("#editListInputDate");s.value=c,r.value=d,a.value=l,t.classList.add("hidden"),o.classList.remove("hidden"),n.insertBefore(o,t)}(e),document.getElementById("editListTitle").focus()}(e);else if(c)!function(e){let t=document.querySelector("#editListTitle").value,n=document.querySelector("#editListInputDetail").value,o=document.querySelector("#editListInputDate").value,c=m(document.querySelector("li.hidden").id);c.title=t,c.details=n,c.date=h(o),B(),g(),i(),L(),p(c.dataProject),e.preventDefault()}(e);else{if(!d)return;g(),L()}})),document.querySelector(".projectCancelBtn").addEventListener("click",D),document.getElementById("addProject").addEventListener("click",x),document.getElementById("projectForm").addEventListener("submit",k),document.querySelector(".leftPanel").addEventListener("click",P),C.forEach((e=>{T(e.dataProject,e.name)})),function(){document.addEventListener("click",e);const n=document.querySelector(".project .option");n.firstElementChild.addEventListener("click",t),n.lastElementChild.addEventListener("click",r),document.querySelector(".rename-renameBtn").addEventListener("click",(function(e){(e=>{const t=document.querySelector(".project .tile.hidden");let n=document.getElementById("projectRenameInput").value;const o=t.querySelector(".projectName");o.textContent=n;let c=t.dataset.project;C[c].name=n,B(),s(),q(o),d()})(),e.preventDefault()})),document.querySelector(".rename-cancelBtn").addEventListener("click",(function(){d(),s()}))}(),function(){const e=document.querySelector(".project");e.addEventListener("mousedown",E),document.querySelectorAll(".project .tile").forEach((e=>{j(e)})),e.addEventListener("dragover",I)}(),(0,u.displayAllTasks)(),document.querySelector(".hiddenMenu").addEventListener("click",(()=>{document.querySelector(".leftPanel").classList.toggle("hidden")}))})()})();